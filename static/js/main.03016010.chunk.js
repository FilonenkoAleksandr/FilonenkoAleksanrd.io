(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{109:function(e,t,a){e.exports={list:"PlacesList_list__2AcCN"}},120:function(e,t,a){},121:function(e,t,a){},245:function(e,t,a){"use strict";a.r(t);var c=a(1),i=a(0),s=a.n(i),n=a(49),o=a.n(n),l=(a(120),a(121),a(21)),r=a(8),d=a(50),m=a(51),j=a(54),p=a(53),u=a(24),h=a(10),b=a(108).create({baseURL:"https://tlt-places.firebaseio.com/",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"DELETE, POST, GET, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"}}),_=function(e){return b.get("".concat(e,".json"))},O=function(e,t){return b.delete("".concat(e,"/").concat(t,".json"))},x=function(e,t){return b.post("".concat(e,".json"),{name:t.name,text:t.text,adress:t.adress,img:t.img})},f="SET_ITEMS",v="DELETE_ITEMS",g="OPEN_MODAL",N="CLOSE_MODAL",y="SET_MODAL_INFO",w="DISABLE_LOADING",I="ENABLE_LOADING",M={items:{},pageSize:5,isModalOpen:!1,modalItem:{name:"",text:"",img:"",adress:""},isShowLoading:!0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var a=t.items?t.items:{};return Object(h.a)(Object(h.a)({},e),{},{items:a});case v:var c=Object.assign({},e.items);return delete c[t.id],Object(h.a)(Object(h.a)({},e),{},{items:c});case g:return Object(h.a)(Object(h.a)({},e),{},{isModalOpen:!0});case y:var i=Object.assign({},e.items);return Object(h.a)(Object(h.a)({},e),{},{modalItem:i[t.id]});case N:return Object(h.a)(Object(h.a)({},e),{},{isModalOpen:!1});case w:return Object(h.a)(Object(h.a)({},e),{},{isShowLoading:!1});case I:return Object(h.a)(Object(h.a)({},e),{},{isShowLoading:!0});default:return e}},S=a(30),k=a.n(S),P=function(e){return Object(c.jsx)("div",{className:k.a.modal_wrapper,onClick:function(){return e.closeModal()},children:Object(c.jsxs)("div",{className:k.a.modal_body,onClick:function(e){return e.stopPropagation()},children:[Object(c.jsx)("div",{className:k.a.modal_image,children:Object(c.jsx)("img",{src:e.modalItem.img?e.modalItem.img:"https://perila-don.ru/img/no_photo.png",alt:""})}),Object(c.jsx)("div",{className:k.a.modal_title,children:e.modalItem.name}),Object(c.jsx)("div",{className:k.a.modal_text,children:e.modalItem.text}),Object(c.jsx)("div",{className:k.a.modal_adress,children:e.modalItem.adress})]})})},T=a(26),L=a.n(T),E=function(e){var t=e.text;return e.text.length>80&&(t=e.text.slice(0,60)+"..."),Object(c.jsxs)("a",{className:L.a.item,onClick:function(){return e.showModalFunc(e.id)},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{onClick:function(t){t.stopPropagation(),e.deleteFunc(e.id)},className:L.a.item_close,children:"X"}),Object(c.jsx)("div",{className:L.a.item_image,children:Object(c.jsx)("img",{src:e.img,className:L.a.item_image,alt:""})}),Object(c.jsx)("div",{className:L.a.item_title,children:e.name}),Object(c.jsx)("div",{className:L.a.item_text,children:t})]}),Object(c.jsx)("div",{className:L.a.item_adress,children:e.adress})]})},C=a(109),D=a.n(C),F=function(e){return Object(c.jsx)("div",{className:D.a.list,children:Object.keys(e.items).map((function(t){return Object(c.jsx)(E,{name:e.items[t].name,id:t,text:e.items[t].text,adress:e.items[t].adress,img:e.items[t].img?e.items[t].img:"https://perila-don.ru/img/no_photo.png",deleteFunc:e.deleteFunc,showModalFunc:e.showModalFunc},t)}))})},Y=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getItems(this.props.placeType)}},{key:"deleteItem",value:function(e){this.props.deleteItem(this.props.placeType,e)}},{key:"showModal",value:function(e){this.props.showModal(e)}},{key:"closeModal",value:function(){this.props.closeModal()}},{key:"renderItems",value:function(){return Object(c.jsxs)("div",{children:[Object.keys(this.props.items).length>0?Object(c.jsx)(F,{items:this.props.items,deleteFunc:this.deleteItem.bind(this),showModalFunc:this.showModal.bind(this)}):Object(c.jsxs)("p",{children:["\u0412 \u044d\u0442\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442. ",Object(c.jsx)(l.b,{to:"/addNew",exact:!0,className:"simple-link",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0435\u0440\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e"})]}),this.props.isModalOpen?Object(c.jsx)(P,{modalItem:this.props.modalItem,closeModal:this.closeModal.bind(this)}):null]})}},{key:"render",value:function(){return Object(c.jsx)(c.Fragment,{children:this.props.isShowLoading?Object(c.jsx)("div",{children:"Loading"}):this.renderItems()})}}]),a}(s.a.Component),z=Object(u.b)((function(e){return{items:e.itemsPage.items,pageSize:e.itemsPage.pageSize,isModalOpen:e.itemsPage.isModalOpen,modalItem:e.itemsPage.modalItem,isShowLoading:e.itemsPage.isShowLoading}}),{getItems:function(e){return function(t){t({type:I}),_(e).then((function(e){var a;t((a=e.data,{type:f,items:a})),t({type:w})}))}},deleteItem:function(e,t){return function(a){O(e,t).then((function(e){a(function(e){return{type:v,id:e}}(t))}))}},showModal:function(e){return function(t){t({type:g}),t(function(e){return{type:y,id:e}}(e))}},closeModal:function(){return{type:N}}})(Y),B=a(247),G=a(246),W=a(27),H=a.n(W),J=function(e){return e?void 0:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u0432\u043e\u0434"},K=Object(G.a)({form:"login"})((function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{className:H.a.fields,onSubmit:e.handleSubmit,children:[Object(c.jsx)("div",{className:H.a.field_text,children:Object(c.jsx)(B.a,{type:"text",placeholder:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u043e\u0442\u043e (\u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",name:"img",component:"input"})}),Object(c.jsx)("div",{className:H.a.field_text,children:Object(c.jsx)(B.a,{validate:J,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",component:"input"})}),Object(c.jsx)("div",{className:H.a.field_text,children:Object(c.jsx)(B.a,{validate:J,type:"text",placeholder:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",name:"text",component:"textarea"})}),Object(c.jsx)("div",{className:H.a.field_text,children:Object(c.jsx)(B.a,{validate:J,type:"text",placeholder:"\u0410\u0434\u0440\u0435\u0441",name:"adress",component:"input"})}),Object(c.jsxs)("div",{className:H.a.field_radio,children:[Object(c.jsxs)("label",{children:[Object(c.jsx)(B.a,{validate:J,name:"placeType",component:"input",type:"radio",value:"park"})," \u041f\u0430\u0440\u043a"]}),Object(c.jsxs)("label",{children:[Object(c.jsx)(B.a,{validate:J,name:"placeType",component:"input",type:"radio",value:"nature"})," \u041f\u0440\u0438\u0440\u043e\u0434\u0430"]}),Object(c.jsxs)("label",{children:[Object(c.jsx)(B.a,{validate:J,name:"placeType",component:"input",type:"radio",value:"arcitecture"})," \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430"]}),Object(c.jsxs)("label",{children:[Object(c.jsx)(B.a,{validate:J,name:"placeType",component:"input",type:"radio",value:"art"})," \u0418\u0441\u0441\u043a\u0443\u0441\u0442\u0432\u043e"]})]}),Object(c.jsx)("div",{className:H.a.field_button,children:Object(c.jsx)("button",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})})})),R=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).onSubmit=function(e,t,a){var c=e.placeType,i={img:!!e.img&&e.img,name:e.name,text:e.text,adress:e.adress};t(a.reset()),x(c,i).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(K,{onSubmit:this.onSubmit})})}}]),a}(s.a.Component);var U=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{className:"header-wrapper",children:Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)(l.b,{to:"/park",exact:!0,activeClassName:"header-item__active",className:"header-item",children:"\u041f\u0430\u0440\u043a\u0438"}),Object(c.jsx)(l.b,{to:"/nature",exact:!0,activeClassName:"header-item__active",className:"header-item",children:"\u041f\u0440\u0438\u0440\u043e\u0434\u0430"}),Object(c.jsx)(l.b,{to:"/arcitecture",exact:!0,activeClassName:"header-item__active",className:"header-item",children:"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430"}),Object(c.jsx)(l.b,{to:"/art",exact:!0,activeClassName:"header-item__active",className:"header-item",children:"\u0418\u0441\u043a\u0443\u0441\u0442\u0432\u043e"}),Object(c.jsx)(l.b,{to:"/addNew",exact:!0,activeClassName:"header-item__active",className:"header-item header-item__add",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e"})]})}),Object(c.jsxs)(r.c,{children:[Object(c.jsx)(r.a,{path:"/park",component:function(){return Object(c.jsx)(z,{placeType:"park"})},className:"header-item"}),Object(c.jsx)(r.a,{path:"/nature",component:function(){return Object(c.jsx)(z,{placeType:"nature"})},className:"header-item"}),Object(c.jsx)(r.a,{path:"/arcitecture",component:function(){return Object(c.jsx)(z,{placeType:"arcitecture"})},className:"header-item"}),Object(c.jsx)(r.a,{path:"/art",component:function(){return Object(c.jsx)(z,{placeType:"art"})},className:"header-item"}),Object(c.jsx)(r.a,{path:"/addNew",component:function(){return Object(c.jsx)(R,{})},className:"header-item"})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(7),Z=a(248),q=a(112),V=Object(X.c)({itemsPage:A,form:Z.a}),$=Object(X.d)(V,Object(X.a)(q.a));window.store=$;var Q=$;a(113).a.initializeApp({apiKey:"AIzaSyAawWSXlyn1xd1VYglMuE2cip_YtcqmItE",authDomain:"tlt-places.firebaseapp.com",databaseURL:"https://tlt-places.firebaseio.com",projectId:"tlt-places",storageBucket:"tlt-places.appspot.com",messagingSenderId:"870473676383",appId:"1:870473676383:web:ee023698f04c13e2a70dea",measurementId:"G-9YKKMG2BTE"});var ee=Object(c.jsx)(l.a,{children:Object(c.jsx)(u.a,{store:Q,children:Object(c.jsx)(U,{})})});o.a.render(ee,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,t,a){e.exports={item:"PlacesItem_item__2DL7-",item_image:"PlacesItem_item_image__1J2M7",item_title:"PlacesItem_item_title__2-US5",item_text:"PlacesItem_item_text__WrIn0",item_adress:"PlacesItem_item_adress__1rLYb",item_close:"PlacesItem_item_close__2cIZ0"}},27:function(e,t,a){e.exports={fields:"AddPlace_fields__3AHhT",field_text:"AddPlace_field_text__1DNvY",field_radio:"AddPlace_field_radio__2_wO0",field_button:"AddPlace_field_button__3Yn5N"}},30:function(e,t,a){e.exports={modal_wrapper:"Modal_modal_wrapper__3uZ8g",modal_body:"Modal_modal_body__o5rgP",modal_image:"Modal_modal_image__3H4hF",modal_title:"Modal_modal_title__1Y4vg",modal_text:"Modal_modal_text__SCZrl",modal_adress:"Modal_modal_adress__1Ynw1"}}},[[245,1,2]]]);
//# sourceMappingURL=main.03016010.chunk.js.map